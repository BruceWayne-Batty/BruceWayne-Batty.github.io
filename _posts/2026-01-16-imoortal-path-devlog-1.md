---
layout: post
title: "《登仙志》开发日志 #1：筑基初成，仙路渐开"
date: 2026-01-16 07:30:00 +0800
categories: DevLog
tags: GameDev ImmortalPath
comments: 1
---

# 🚀 当前进展：核心系统初步成形

《仙途无界》终于迈出了实质性的一步——**核心框架基本搭建完成**，修炼系统也初步跑通了。现在玩家已经可以体验从炼气一层苦修到九层，再尝试突破至巅峰的完整过程。

目前整体完成度大约在 **40-45%**，正处于从“功能验证”转向“内容填充”的关键阶段。虽然离完整版还远，但已经能看出一点“修仙模拟器”的雏形了。

---

## ✅ 已实现的功能

### 1. 游戏管理器（GameManager）
- 全局状态管理（境界、属性、背包、时间等）
- 完整的存档/读档系统（JSON 格式 + 自动保存）
- 时间推进与自动恢复机制
- 玩家属性包含四维、战斗、五行等多个维度

### 2. 场景管理器（SceneManager）
- 目前有 **7 个可探索场景**：青云镇、低级灵脉、野外、租赁洞府、市集、后山、属性面板
- 场景之间可以跳转，每个场景还有独立的灵气浓度、安全标识和可执行行动
- 数据全部用 JSON 配置，以后加新场景会非常方便

### 3. 修炼系统（CultivationManager）
- **打坐修炼**：根据地点灵气、自身根骨、功法效率综合计算修为增长
- **境界突破**：炼气期九层完整支持，突破成功率受心境、气运、地点安全影响
- **功法系统**：已配置 3 种功法，不同功法影响修炼上限和效率
- **顿悟事件**：随机触发，一次顿悟可抵多日苦修

### 4. 界面与调试
- 主界面已完整，包含状态栏、场景描述、行动按钮、游戏日志
- 调试面板（按 F1）可随意调整属性、时间、资源，方便测试

---

## 📦 当前内容量

| 类别       | 已配置内容                               |
|------------|------------------------------------------|
| 场景       | 7 个（从起始村到修炼洞府）                |
| 物品       | 3 个（疗伤丹、下品灵石、基础功法）         |
| 功法       | 3 种（覆盖炼气期至筑基前期）               |
| 境界体系   | 炼气期 1~9 层 + 巅峰                      |

所有内容都通过 JSON 文件管理，后续扩展起来会比较灵活。

---

## 🛠 正在开发中

### 当前重点：物品系统完善
目前物品系统还比较基础，只能查看和使用简单物品。接下来要加入：
- 装备穿戴与属性加成
- 物品堆叠与分类
- 使用效果系统（比如丹药恢复、灵石修炼等）

### 即将启动：NPC 系统
打算在接下来 2~3 周内实现：
- NPC 基础对话与好感度
- 关系记忆与事件触发
- 基于好感的任务与交易

---

## 🧭 接下来打算怎么做

### 短期（1-2 周）
- 完善物品与装备系统
- 优化 UI 动画与反馈

### 中期（3~6 周）
- 实现 NPC 对话与关系系统
- 扩展修炼系统至筑基期
- 加入随机事件框架

### 长期（1~2 月）
- 实现回合制战斗系统（带五行克制）
- 构建任务与事件链
- 丰富场景、物品、NPC 等内容

---

## 💭 开发随笔

目前最满意的部分是**修炼系统的数值设计**：在保证一定随机性的同时，让根骨、功法、地点等因素都能真实影响修炼效率与突破概率。顿悟机制的加入也让修炼过程多了一些“仙缘”感。

目前最大的挑战在于**系统的扩展性**：随着功能越来越多，如何保持代码结构清晰、数据配置灵活，是一个需要持续思考的问题。尤其是未来的战斗与事件系统，希望能在不重构的前提下平滑接入。